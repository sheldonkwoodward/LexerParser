PROGRAM theProgram;

VAR a, b, c : INTEGER;

PROCEDURE Handle* (f: Figure; VAR msg: Figures.Message);
   VAR
      r : Rectangle;
BEGIN
   r := f(Rectangle);
   IF    msg IS Figures.DrawMsg THEN Draw(r)
   END
END Handle;

VAR x, y, z : INTEGER;


MODULE Rectangles;
VAR x, y, z : INTEGER;
PROCEDURE Handle* (f: Figure; VAR msg: Figures.Message);
   VAR
      r : Rectangle;
BEGIN
   r := f(Rectangle);
   IF    msg IS Figures.DrawMsg THEN Draw(r)
   END
END Handle;
END Rectangles.

BEGIN
    IF    msg IS Figures.DrawMsg THEN Draw(r)
END

END theProgram.